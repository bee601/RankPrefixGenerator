<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Minecraft Pixel-Perfect Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Silkscreen&display=swap" rel="stylesheet">
    <style>
        body { background: #0b0c0d; color: #eee; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .canvas-container { 
            background: #000; padding: 40px; border: 1px solid #333; margin-bottom: 20px;
            image-rendering: pixelated; /* Wichtig: Verhindert Unschärfe im Browser */
        }
        canvas { transform: scale(8); image-rendering: pixelated; border: 1px solid #444; }
        .controls { background: #1a1b1e; padding: 25px; border-radius: 8px; width: 450px; display: flex; flex-direction: column; gap: 15px; }
        input { background: #000; border: 1px solid #444; color: #fff; padding: 10px; border-radius: 4px; font-family: monospace; }
        button { background: #e67e22; color: white; padding: 15px; border: none; border-radius: 4px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

    <h1>Minecraft Pixel-Perfect Generator</h1>

    <div class="canvas-container">
        <canvas id="c"></canvas>
    </div>

    <div class="ui">
        <div class="controls">
            <label>Rank Text</label>
            <input type="text" id="t" value="CREATOR" oninput="draw()">
            
            <label>Rahmenfarbe (HEX)</label>
            <input type="text" id="bc" value="#1C517B" oninput="draw()">
            
            <label>Hintergrundfarbe (HEX)</label>
            <input type="text" id="bg" value="#4D0000" oninput="draw()">
            
            <button onclick="dl()">ALS PNG SPEICHERN (8PX)</button>
        </div>
    </div>

<script>
    function draw() {
        const canvas = document.getElementById('c');
        const ctx = canvas.getContext('2d');
        const text = document.getElementById('t').value.toUpperCase();
        
        // Pixel-Modus im Code aktivieren
        ctx.imageSmoothingEnabled = false;
        ctx.webkitImageSmoothingEnabled = false;

        ctx.font = "8px 'Silkscreen'";
        const tw = Math.ceil(ctx.measureText(text).width);
        
        // Wir geben 4 Pixel Extra-Breite für den Rahmen-Abstand
        canvas.width = tw + 4;
        canvas.height = 8;

        // 1. Hintergrund
        ctx.fillStyle = document.getElementById('bg').value;
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // 2. Rahmen (Exakt auf den Pixel-Kanten)
        ctx.strokeStyle = document.getElementById('bc').value;
        ctx.lineWidth = 1;
        ctx.strokeRect(0.5, 0.5, canvas.width - 1, canvas.height - 1);

        // 3. Schatten-Effekt (1px versetzt)
        ctx.fillStyle = "rgba(0,0,0,0.7)";
        ctx.fillText(text, 2.5, 7.5); 

        // 4. Weißer Haupttext
        ctx.fillStyle = "#FFFFFF";
        ctx.font = "8px 'Silkscreen'";
        ctx.fillText(text, 2, 7);
    }

    function dl() {
        const link = document.createElement('a');
        link.download = 'rank.png';
        link.href = document.getElementById('c').toDataURL('image/png');
        link.click();
    }

    // Warten bis Schrift geladen ist
    document.fonts.ready.then(draw);
</script>
</body>
</html>
